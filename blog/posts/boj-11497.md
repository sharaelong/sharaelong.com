---
title: '최대 차이를 최소로 하는 원형 배열'
summary: 'From BOJ 11497'
date: 2024-01-30T00:25:00+09:00
---

[[BOJ 11497] Log Jumping](https://boj.kr/11497) 라는 문제를 접했는데, 증명을 내버려두기는 아까워서 올린다.

Problem. `$n \geq 3$`이고, 길이 `$n$`의 원형 배열이 주어졌을 때, 이를 원형으로 재배열해서 인접한 수의 차이 중 최댓값을 최소화하기.

이 문제의 답은 `$(a_1, a_3, \ldots, a_{n-1}, a_n, a_{n-2}, a_{n-4}, \ldots, a_2)$`와 같이 배치하는 것이다. (`$n$`이 짝수인 경우만 쓴 것이다) 이걸 수학적으로 표현해보자. 이론적 최솟값을 구하고, 저러한 배치가 concrete example이 된다는 방식으로 보인다.

Given: `$a_1 \leq \ldots \leq a_n$`.

Want to show: 임의의 길이 `$n$`의 순열 `$P$`에 대해, `$$ D_n = \min_{P} \max(\vert a_{p_1}-a_{p_2} \vert, \ldots, \vert a_{p_n}-a_{p_1} \vert) = \max(a_3-a_1, a_4-a_2, \ldots, a_{n}-a_{n-2})$$`

### Proof 1.
수학적 귀납법을 사용. `$n$`일 때 성립한다고 가정.
`$n+1$`일 때, 길이 `$n+1$`의 순열 `$P$`에 대해 만들어지는 통나무 배치를 생각한다. `$a_{n+1}$`이 `$a_i$`와 `$a_j$` 사이에 끼어 있다고 하자. 이 배치에서 우리가 궁금한 값은 `$$X(P) = \max(\vert a_{p_1}-a_{p_2} \vert, \ldots, \vert a_i - a_{n+1} \vert, \vert a_{n+1}-a_j \vert, \ldots, \vert a_{p_{n+1}}-a_{p_1} \vert)$$`
이다. 삼각 부등식에 의해 `$\vert a_i - a_{n+1} \vert + \vert a_{n+1} - a_j \vert \geq \vert a_i - a_j \vert$`이고, 그러므로 `$D_n$`의 정의에 의해 `$X(P) \geq D_n$`이므로, `$D_{n+1}$`의 정의에 의해 `$D_{n+1} \geq D_n$`.

또한, 임의의 배치에서 `$a_{n+1}$` 양 옆에 통나무가 하나씩 존재하므로, `$D_{n+1} \geq a_{n+1}-a_{n-1}$`도 성립한다.

따라서 `$D_{n+1} = \max(a_3-a_1, \ldots, a_{n+1}-a_{n-1})$`임을 보일 수 있다.

### Proof 2.
우선 `$(a_1, a_3, \ldots, a_{n-1}, a_n, a_{n-2}, a_{n-4}, \ldots, a_2)$`로 배치하는 실례가 존재하므로, `$D_n \leq \max(a_3-a_1, a_4-a_2, \ldots, a_{n}-a_{n-2})$`이다. 그러므로 차이의 최댓값이 이 배치보다 큰 경우는 고려할 필요가 없다. 그러므로, 길이 `$n$`인 순열 `$P$`로 표현되는 임의의 배열 `$(a_{p_1}, \ldots, a_{p_n})$`을 생각했을 때, `$\vert p_i - p_{i+1} \vert \geq 3$`인 경우를 고려하지 않아도 된다.

이제 `$P$`에 의한 배열을 다시금 `$(a_{p_1}, \ldots, a_{p_x} = a_1, \ldots, a_{p_y} = a_n, \ldots, a_{p_n})$`으로 표기하자. (표기 상 `$x < y$`가 암묵적으로 가정된 감이 있는데, 그러므로 `$a_1$`과 `$a_n$`이 반대로 대응될 수도 있다. 문제의 구조 상 회전이나 뒤집기에 대칭성이 있으므로 증명이 잘못된 것은 아니다) 이제 모든 인접한 원소들의 index 차이의 합 `$$S = \sum_{i=1}^n \vert p_i - p_{i+1} \vert = \sum_{i=x}^{y-1} \vert p_i - p_{i+1} \vert + \sum_{i=y}^{x-1} \vert p_i - p_{i+1} \vert$$`을 생각하자. (편의 상의 표기로, `$p_{n+k} = p_k$`이다) 삼각 부등식에 의해, 우변의 두 항은 각각 `$\vert p_x - p_y \vert$` 이상이고, 그러므로 `$S \geq 2n-2$`.

앞서 언급한 바에 따르면, 우리는 `$\vert p_i - p_{i+1} \vert \leq 2$`인 경우만을 고려하고 있는데, 이 때 `$1 \leq i \leq n$` 중에서 `$\vert p_i - p_{i+1} \vert = 1$`인 `$i$`의 개수를 `$a$`개, `$\vert p_i - p_{i+1} \vert = 2$`인 `$i$`의 개수를 `$b$`개라고 두자. 따라서 `$a+b = n$`이고 `$S = a+2b \geq 2n-2$`이다. 정의 상 `$b$`는 정수이고 `$0 \leq b \leq n-2$`인데, 이 식에 따르면 `$b \geq n-2$`이므로, `$b = n-2$`. 그러므로 어떤 방식으로 배열을 만들든 `$\vert p_i - p_{i+1} \vert = 2$`인 모든 가능한 조합이 순열에 나타나야 하므로, 결론적으로 `$D_n \geq \max(a_3-a_1, a_4-a_2, \ldots, a_{n}-a_{n-2})$`.
